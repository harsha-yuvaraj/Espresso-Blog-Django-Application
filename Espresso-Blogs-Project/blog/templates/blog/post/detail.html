{% extends "blog/base.html" %}
{% load blog_tags %}

{% block title %} {{ post.title }} {% endblock %}

{% block content %}

  <h1><span class="domine-regular">{{ post.title }}</span></h1>

  <p class="date">
    Published {{ post.publish }} by {{ post.author }}
  </p>
  
  {% include "blog/post/includes/tags.html" %}
  
  <span class="newsreader-regular">{{ post.body|markdown }}</span>

  <p>
    <a href="{% url 'blog:post_share' post.id %}"> 
       Share this post
    </a>
    |
    <a href="{% url 'blog:post_list' %}"> 
      Return home
   </a>
  </p>

  <h2><span class="domine-regular">Similar posts you may also enjoy:</span></h2>
  {% for post in recommended_posts %}
     <p>
        <a href="{{ post.get_absolute_url }}">
           {{ post.title }}
        </a>
     </p>
  {% empty %}
     <p>There are no similar posts yet :(</p>
  {% endfor %}

  {% with comments.count as total_comments %}
     <h2>
        {{ total_comments }} comment{{ total_comments|pluralize }}
     </h2>
  {% endwith %}

  {% for comment in comments %}
     <div class="comment">
        <p class="info">
           {# {{ forloop.counter }} gives the current iteration counter of the loop. #}

           {{ comment.name }} on {{ comment.created }}
        </p>
        {{ comment.body|linebreaks }}
     </div>
  {% empty %}
     <p>There are no comments yet.</p>
  {% endfor %}

  {% include "blog/post/includes/comment_form.html" %}

{% endblock %}
